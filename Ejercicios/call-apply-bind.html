<html>
  <head>
    <title>
      Function.prototype.call, Function.prototype.apply, Function.prototype.bind
    </title>
  </head>

  <body>
    <a href="/ejercicios/">Go back</a>
    <p>
      <em>Abre la consola</em>
    </p>

    <ul>
      <li>
        <button class="call-to-action">Aprender</button>
      </li>
      <li>
        <button class="call-to-action">Aprender Más</button>
      </li>
      <li>
        <button class="call-to-action">¡Nunca parar de Aprender!</button>
      </li>
    </ul>

    <script>
      // Establece `this` usando `call`
      function saludar() {
        console.log(`Hola, soy ${this.name} ${this.apellido}`);
      }

      const oscar = {
        name: "Oscar Martin",
        apellido: "Balderrama Vaca",
      };

      saludar.call(oscar);

      // Establece `this` usando `call` y pasar argumentos a la función
      function caminar(metros, direccion) {
        console.log(`${this.name} camina ${metros} metros hacia ${direccion}.`);
      }

      caminar.call(oscar, 400, "Sur Oeste");

      // Establece `this` usando `apply` y pasar argumentos a la función
      const valores = [800, "Noreste"];
      caminar.apply(oscar, valores);

      /*
                Call - comma
                Apply - arreglo
            */

      // Establecer `this` en una nueva función usando `bind`
      const martin = {
        name: "Martin",
        apellido: "Estepa Balderrama",
      };

      const martinSaluda = saludar.bind(martin);
      martinSaluda();

      const martinCamina = caminar.bind(martin, 1000);
      martinCamina("suroeste");

      // Cuándo es útil usar uno de estos métodos
      const buttons = document.getElementsByClassName("call-to-action");
      // buttons.forEach(button => {
      //     button.onClick = () => alert('Nuca pares de aprender');
      // });

      // NodeList
      Array.prototype.forEach.call(buttons, (button) => {
        button.onclick = () => alert("Nuca pares de aprender!");
      });
    </script>
  </body>
</html>
